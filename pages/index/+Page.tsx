import React, { useEffect, useRef, useState } from "react";
import { Logo } from "./logo";
import "../../layouts/tailwind.css";
import bigPlant from "../../assets/big-plant.png";
import catridge from "../../assets/catridge.png";
import flower1 from "../../assets/flower-1.png";
import flower2 from "../../assets/flower-2.png";
import flower3 from "../../assets/flower-3.png";
import flower4 from "../../assets/flower-4.png";
import song1 from "../../assets/1.wav";
import song2 from "../../assets/2.wav";
import song3 from "../../assets/3.wav";
import song4 from "../../assets/4.wav";
import song5 from "../../assets/5.wav";
import song6 from "../../assets/6.wav";
import song7 from "../../assets/7.wav";
import song8 from "../../assets/8.wav";
import petal1 from "../../assets/petal-1.png";
import petal2 from "../../assets/petal-2.png";
import petal3 from "../../assets/petal-3.png";
import petal4 from "../../assets/petal-4.png";
import { clsx } from "clsx";

function getRandomInt(min, max) {
  min = Math.ceil(min);
  max = Math.floor(max);
  return Math.floor(Math.random() * (max - min + 1)) + min;
}

type Song = { songText: string; songLink: string; songImage: string };

const songs: Song[] = [
  { songText: "Пойду подышу", songLink: song8, songImage: petal1 },
  { songText: "Неизданный брейншторм Вивальди", songLink: song1, songImage: petal1 },
  { songText: "Меланхолично о личном", songLink: song2, songImage: petal2 },
  { songText: "Вечер домашнего эстета", songLink: song3, songImage: petal3 },
  { songText: "В такси на late drink", songLink: song4, songImage: petal4 },
  { songText: "Маэстро семейных завтраков", songLink: song5, songImage: petal3 },
  { songText: "В двух словах не расскажешь", songLink: song6, songImage: petal4 },
  { songText: "Автостопом по вишлистам", songLink: song7, songImage: petal2 },
];

export default function Page() {
  const [isSpinStart, setIsSpinStart] = useState(false);
  const [isSpinEnd, setIsSpinEnd] = useState(false);
  const [isMobile, setIsMobile] = useState(false);
  const [isPlay, setIsPlay] = useState(false);
  const [song, setSong] = useState<null | Song>(null);
  const containerRef = useRef<HTMLDivElement | null>(null);
  const audioRef = useRef<HTMLAudioElement | null>(null);
  const progressRef = useRef<HTMLDivElement | null>(null);

  const handleFlowerClick = () => {
    setIsSpinStart(true);
  };

  const handleSpinEnd = () => {
    setIsSpinEnd(true);
    setSong(songs[getRandomInt(0, 7)]);
    scrollTo(0, 0);
  };

  const handlePlayClick = () => {
    const handleTimeUpdate = (event) => {
      progressRef.current.value = (event.target.currentTime / event.target.duration) * 100;
    };
    if (audioRef.current) {
      audioRef.current.addEventListener("ended", () => {
        setIsPlay(false);
        audioRef.current.currentTime = 0;
      });
      audioRef.current.addEventListener("timeupdate", handleTimeUpdate);
      if (isPlay) {
        audioRef.current.pause();
      } else {
        audioRef.current.play();
      }
      setIsPlay((prev) => !prev);
    }
  };

  const handleShare = async () => {
    const shareData = {
      title: "Весенний плейлист от SG",
      text: "Музыкальное пространство, где каждая мелодия вдохновлена ритмами наших современниц. Просто покрутите пластинку и позвольте музыке выбрать настроение этого дня.",
      url: document.URL,
    };

    try {
      await navigator.share(shareData);
    } catch (error) {
      console.log(error);
    }
  };

  useEffect(() => {
    setIsMobile(window.innerWidth < 1200);

    const createFlower = () => {
      const snow = document.createElement("div");
      const images = [flower1, flower2, flower3, flower4];
      const randomImage = images[getRandomInt(0, 3)];

      snow.innerHTML = `<img id='snowflake' src='${randomImage}' class='drop-shadow-[80px_80px_60px_#A38D7C4D]'>`;
      snow.classList.add("snow");

      containerRef.current?.appendChild(snow);

      snow.style.left = Math.random() * 70 + "vw";
      if (isMobile) {
        snow.style.maxWidth = getRandomInt(150, 250) + "px";
      } else {
        snow.style.maxWidth = getRandomInt(300, 450) + "px";
      }

      setTimeout(() => {
        snow.remove();
      }, 9000);
    };

    setInterval(createFlower, 2400);
  }, []);

  const stepText = (
    <div className=" 2xl:ml-[101px] mt-[101px]">
      <p className="font-semibold text-[40px] lg:text-[70px] leading-[45px] mt-[100px] text-main-text text-center 2xl:text-left">
        {isSpinStart ? <>Минутку!</> : <>Милые девушки</>}
      </p>
      <p className="font-medium text-[28px] lg:text-[43px] mt-[22px] text-main-text text-center 2xl:text-left">
        {isSpinStart ? (
          <>
            МАРТгаритка <br /> выбирает один <br /> из 8 лепестков…
          </>
        ) : (
          <>
            желаем, чтобы {!isMobile && <br />} у каждого дня <br /> был вдохновляющий {!isMobile && <br />} саундтрек!
          </>
        )}
      </p>
    </div>
  );

  const stepSpinEndText = (
    <div className="2xl:ml-[95px] 2xl:ml-[101px] mt-[101px] 2xl:w-[560px] 2xl:block flex items-center justify-center flex-col">
      <p className="font-medium text-[50px]  mt-[100px]  text-main-text text-center 2xl:text-left">Мелодия этого дня</p>
      <p className="font-semibold h-[225px] text-[70px] mt-[22px] leading-[75px] text-main-text text-center 2xl:text-left">
        {song?.songText}
      </p>
      <p className="font-medium text-[30px] mt-[67px]  text-main-text text-center 2xl:text-left">
        А здесь можно скачать
        <br />
        милые открытки
        <br />
        для заставки на телефон
        <br />
        или поздравления близких.
      </p>
      <a
        href="https://disk.yandex.ru/d/oiCwBihZqo8bog"
        className="p-[45px] font-semibold text-[30px] text-main-text bg-white block w-fit mt-[44px] rounded-[80px]"
      >
        Скачать комплимент
      </a>
    </div>
  );

  if (isMobile && isSpinEnd)
    return (
      <div className=" bg-bg flex flex-col 2xl:flex-row  min-h-screen overflow-hidden 2xl:h-[1140px]">
        <div className="px-[24px] sm:p-0 shrink-0 z-10">
          <div className="flex items-center justify-between mt-[87px]">
            <Logo className="w-[100px] h-[100px] xs:w-[160px] xs:h-[160px] sm:ml-[45px] 2xl:ml-[101px] " />
            <button
              className="bg-white animate-pulsebtn xs:w-[249px] xs:h-[159px] w-[149px] h-[89px]  sm:mr-[45px] flex items-center justify-center rounded-[80px]"
              onClick={handleShare}
            >
              <svg
                width="98"
                height="83"
                viewBox="0 0 98 83"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                className="xs:w-[98px] xs:h-[83px] w-[60px] h-[30px]"
              >
                <path
                  d="M54.1337 81.2519V58.2541C47.6683 58.8631 39.9171 60.2862 31.5549 63.3343C16.0385 68.9882 5.60722 77.6056 0 83C0.138861 78.0126 1.26642 57.8771 17.5576 40.8199C29.8413 27.9607 44.5467 23.3448 54.1365 21.6787V0L98 40.626L54.1365 81.2519H54.1337Z"
                  fill="#E9DFD5"
                />
              </svg>
            </button>
          </div>
          <div className="2xl:ml-[95px] 2xl:ml-[101px] mt-[101px] 2xl:w-[560px]  flex items-center justify-center flex-col">
            <p className="font-medium text-[35px] sm:text-[50px]  mt-[100px]  text-main-text text-center 2xl:text-left">
              Мелодия этого дня
            </p>
            <div className="w-[90%] h-[1526px] bg-[#E0D0C080] rounded-[80px] mt-[80px] relative ">
              <p className="font-semibold h-[225px] p-[10px] text-[40px] sm:text-[70px] mt-[22px] leading-[75px] text-main-text text-center 2xl:text-left">
                {song?.songText}
              </p>
              <img
                src={song?.songImage}
                alt=""
                className="absolute top-[calc(40%+20px)] left-[50%] translate-[-50%] drop-shadow-[80px_80px_60px_#A38D7C4D] w-[1457px] h-[1457px] max-w-[1457px]"
              />
              <div className="absolute top-[calc(40%)] left-[calc(50%)] translate-[-50%] z-10">
                {!isPlay && (
                  <div className="relative  animate-spin-20">
                    <svg xmlns="http://www.w3.org/2000/svg" width="461" height="453" viewBox="0 0 461 453" fill="none">
                      <g clipPath="url(#clip0_1_37)">
                        <mask
                          id="mask0_1_37"
                          style={{ maskType: "luminance" }}
                          maskUnits="userSpaceOnUse"
                          x="155"
                          y="-25"
                          width="369"
                          height="304"
                        >
                          <path
                            d="M523.984 141.715L233.852 -25L155 112.225L445.132 278.939L523.984 141.715Z"
                            fill="white"
                          />
                        </mask>
                        <g mask="url(#mask0_1_37)">
                          <path
                            d="M227.618 34.8811C224.495 35.0228 221.812 34.4582 219.571 33.1759C217.327 31.898 215.58 30.0563 214.324 27.6525C213.073 25.2512 212.37 22.4373 212.22 19.2177C212.071 15.9936 212.508 13.1292 213.534 10.6201C214.559 8.11101 216.132 6.11872 218.248 4.64082C220.363 3.16292 222.982 2.34961 226.105 2.20791C229.736 2.03961 232.765 2.82652 235.198 4.56002C237.629 6.29782 239.363 8.70472 240.391 11.7868L236.496 13.0108C235.746 10.7016 234.52 8.91031 232.806 7.63631C231.092 6.36231 228.92 5.78462 226.276 5.90702C223.936 6.01352 222.018 6.63392 220.511 7.76782C219.006 8.89732 217.904 10.4319 217.21 12.3743C216.512 14.3141 216.215 16.531 216.318 19.0294C216.421 21.5277 216.904 23.7069 217.778 25.5675C218.647 27.4257 219.897 28.8545 221.513 29.8467C223.133 30.8413 225.108 31.2885 227.45 31.1777C230.094 31.0553 232.205 30.2799 233.793 28.8453C235.381 27.4108 236.438 25.521 236.969 23.1673L240.96 24.0326C240.218 27.1959 238.72 29.7516 236.458 31.706C234.198 33.6561 231.253 34.7153 227.623 34.8836L227.618 34.8811Z"
                            fill="white"
                          />
                          <path
                            d="M243.002 33.7841L243.319 30.4636C244.175 30.7065 244.84 30.7362 245.313 30.5571C245.793 30.3762 246.169 30.0141 246.445 29.4621C246.726 28.9126 246.98 28.2089 247.205 27.3552C247.582 26.0052 247.943 24.4903 248.287 22.815C248.631 21.1398 248.971 19.3003 249.318 17.2974C249.66 15.292 250.011 13.1411 250.362 10.8398L266.753 12.4082L264.513 35.8502L260.649 35.4795L262.537 15.7085L253.527 14.8432C253.313 16.1825 253.074 17.5428 252.817 18.9268C252.56 20.3107 252.304 21.661 252.049 22.971C251.794 24.2809 251.532 25.5007 251.277 26.6197C251.014 27.7406 250.761 28.7049 250.51 29.5143C250.097 30.9072 249.607 32.0014 249.037 32.8013C248.463 33.5987 247.703 34.0867 246.75 34.2558C245.801 34.4274 244.55 34.2693 243.006 33.7866L243.002 33.7841Z"
                            fill="white"
                          />
                          <path
                            d="M270.584 47.6395L277.703 36.5279L276.977 40.1165L272.372 13.198L276.355 14.0763L279.854 35.683L278.491 35.3792L290.262 17.1485L294.116 17.9991L274.266 48.4487L270.58 47.637L270.584 47.6395Z"
                            fill="white"
                          />
                          <path
                            d="M291.547 41.5522L299.819 19.5074L303.33 20.8253L296.298 39.5651L303.895 42.4162L310.927 23.6764L314.438 24.9943L307.406 43.7341L314.983 46.5796L322.016 27.8398L325.526 29.1577L317.254 51.2025L291.547 41.5522Z"
                            fill="white"
                          />
                          <path
                            d="M327.288 57.4124C325.744 56.566 324.609 55.5726 323.879 54.4367C323.15 53.3007 322.776 52.1203 322.758 50.9023C322.741 49.6843 323.035 48.5181 323.643 47.4105C324.235 46.329 324.952 45.504 325.798 44.9379C326.64 44.3694 327.587 44.0293 328.638 43.9108C329.689 43.7923 330.822 43.8649 332.037 44.1354C333.164 44.4075 334.387 44.775 335.71 45.2404C337.031 45.7102 338.361 46.2029 339.701 46.7187C341.039 47.2389 342.3 47.7209 343.483 48.1691L341.873 48.2035C342.9 46.3951 343.269 44.838 342.989 43.5329C342.71 42.2277 341.625 41.0555 339.738 40.0228C338.488 39.3394 337.239 39.0265 335.985 39.0861C334.735 39.1481 333.573 39.7003 332.495 40.7513L329.799 38.0055C331.289 36.4688 333.03 35.5731 335.027 35.3277C337.02 35.0799 339.183 35.5941 341.519 36.8728C343.391 37.9023 344.821 39.1172 345.797 40.5279C346.776 41.9343 347.186 43.476 347.035 45.1468C346.98 45.9475 346.786 46.7378 346.451 47.5222C346.116 48.3065 345.728 49.1125 345.284 49.9265L338.282 62.6953L335.26 61.0398L337.976 56.0917L338.433 56.9379C336.734 58.193 334.946 58.8592 333.079 58.9371C331.213 59.0149 329.284 58.5075 327.296 57.4174L327.288 57.4124ZM329.367 54.8501C330.588 55.5229 331.773 55.886 332.911 55.9387C334.049 55.9914 335.091 55.8094 336.038 55.3885C336.979 54.9694 337.77 54.3777 338.404 53.6153C338.934 53.0757 339.423 52.4261 339.874 51.6619C340.325 50.8977 340.669 50.298 340.905 49.8672L341.808 51.0334C340.609 50.5932 339.434 50.1431 338.276 49.6918C337.123 49.2431 336.028 48.8336 334.992 48.4635C333.96 48.0958 333.001 47.8111 332.117 47.6092C331.457 47.4788 330.807 47.423 330.154 47.4412C329.509 47.4575 328.91 47.6046 328.371 47.8786C327.831 48.1526 327.383 48.6115 327.034 49.2491C326.723 49.8103 326.577 50.4261 326.584 51.0889C326.592 51.7585 326.81 52.4156 327.24 53.067C327.669 53.7185 328.376 54.3097 329.36 54.852L329.367 54.8501Z"
                            fill="white"
                          />
                          <path
                            d="M347.405 68.9205L358.974 52.5911L352.283 47.8504L354.327 44.9672L370.879 56.6919L368.835 59.5751L362.144 54.8345L350.575 71.1638L347.405 68.9205Z"
                            fill="white"
                          />
                          <path
                            d="M359.811 78.026L375.514 60.482L378.422 63.0896L372.728 69.4363L376.509 72.829C377.018 73.2829 377.529 73.7617 378.042 74.2586C378.554 74.7554 378.97 75.22 379.294 75.643C380.05 76.632 380.57 77.648 380.867 78.691C381.164 79.735 381.165 80.799 380.881 81.878C380.596 82.958 379.965 84.046 378.983 85.141C377.626 86.656 376.158 87.5 374.58 87.68C373.002 87.86 371.454 87.525 369.926 86.682C369.406 86.389 368.855 86.009 368.272 85.535C367.688 85.061 367.149 84.601 366.651 84.159L359.816 78.028L359.811 78.026ZM364.839 78.233L368.837 81.813C369.162 82.104 369.536 82.418 369.955 82.756C370.373 83.095 370.782 83.359 371.173 83.555C371.86 83.88 372.641 83.999 373.513 83.922C374.384 83.845 375.216 83.363 376.011 82.473C376.806 81.583 377.207 80.704 377.217 79.82C377.225 78.94 376.959 78.116 376.412 77.357C376.165 77.001 375.877 76.657 375.553 76.326C375.224 75.992 374.907 75.688 374.591 75.403L370.593 71.8225L364.844 78.236L364.839 78.233Z"
                            fill="white"
                          />
                          <path
                            d="M382.427 99.507L401.019 85.057L403.068 87.691L394.136 105.963L414.053 101.806L416.102 104.44L397.51 118.891L395.208 115.932L407.413 106.448L390.6 110.012L389.344 108.394L396.943 92.986L384.738 102.47L382.432 99.509L382.427 99.507Z"
                            fill="white"
                          />
                          <path
                            d="M404.712 132.394C403.561 130.391 403.003 128.383 403.031 126.382C403.062 124.376 403.635 122.503 404.756 120.754C405.874 119.009 407.499 117.521 409.629 116.299C411.861 115.021 414.028 114.319 416.131 114.203C418.233 114.087 420.154 114.509 421.884 115.463C423.616 116.424 425.052 117.89 426.186 119.872C427.366 121.925 427.898 123.948 427.781 125.933C427.664 127.917 426.937 129.777 425.602 131.507C424.267 133.237 422.358 134.747 419.878 136.033L417.925 132.628L419.133 131.935C421.62 130.456 423.203 128.868 423.88 127.176C424.56 125.48 424.339 123.66 423.223 121.718C422.029 119.639 420.452 118.438 418.494 118.122C416.536 117.806 414.307 118.363 411.808 119.794C409.401 121.174 407.843 122.788 407.142 124.633C406.44 126.479 406.666 128.401 407.814 130.407C408.59 131.755 409.572 132.753 410.759 133.394C411.946 134.036 413.287 134.309 414.773 134.209L415.512 138.085C413.253 138.324 411.171 137.931 409.263 136.904C407.354 135.877 405.835 134.374 404.701 132.393L404.712 132.394ZM410.217 119.21L412.924 117.661L421.588 132.755L418.882 134.305L410.217 119.21Z"
                            fill="white"
                          />
                          <path
                            d="M411.419 142.884L414.499 141.601C414.689 142.468 414.973 143.07 415.358 143.407C415.743 143.744 416.241 143.903 416.859 143.894C417.475 143.878 418.216 143.778 419.079 143.574C420.451 143.27 421.953 142.879 423.592 142.393C425.23 141.906 427.017 141.343 428.949 140.708C430.881 140.073 432.944 139.362 435.145 138.592L441.476 153.791L419.734 162.835L418.24 159.254L436.579 151.624L433.098 143.271C431.817 143.709 430.505 144.14 429.162 144.565C427.819 144.989 426.509 145.398 425.233 145.787C423.955 146.179 422.758 146.521 421.645 146.817C420.532 147.114 419.562 147.343 418.726 147.499C417.303 147.791 416.106 147.872 415.132 147.745C414.153 147.617 413.368 147.171 412.77 146.411C412.171 145.651 411.718 144.477 411.417 142.888L411.419 142.884Z"
                            fill="white"
                          />
                          <path
                            d="M423.457 177.57C422.84 175.313 422.819 173.226 423.392 171.312C423.965 169.399 425.037 167.755 426.597 166.379C428.156 165.004 430.115 163.99 432.468 163.348C434.837 162.698 437.045 162.579 439.092 162.981C441.14 163.383 442.89 164.273 444.342 165.64C445.795 167.006 446.826 168.795 447.433 171.011C448.054 173.281 448.081 175.378 447.503 177.3C446.931 179.22 445.866 180.862 444.309 182.234C442.755 183.6 440.808 184.603 438.466 185.246C436.097 185.896 433.889 186.026 431.847 185.634C429.803 185.245 428.046 184.368 426.58 183.005C425.113 181.643 424.07 179.835 423.452 177.578L423.457 177.57ZM427.01 176.6C427.654 178.941 428.918 180.476 430.803 181.201C432.693 181.928 434.883 181.95 437.38 181.269C439.934 180.569 441.814 179.43 443.024 177.848C444.234 176.265 444.517 174.313 443.884 171.983C443.448 170.397 442.733 169.195 441.741 168.365C440.747 167.539 439.547 167.04 438.146 166.883C436.744 166.725 435.216 166.869 433.561 167.323C431.007 168.023 429.122 169.171 427.902 170.771C426.682 172.371 426.388 174.311 427.01 176.6Z"
                            fill="white"
                          />
                          <path
                            d="M422.371 191.125L430.732 189.97C430.913 191.265 431.469 192.139 432.407 192.591C433.34 193.041 434.821 193.302 436.842 193.377C438.111 193.424 439.458 193.423 440.894 193.381C442.325 193.336 443.918 193.252 445.666 193.117C447.419 192.986 449.407 192.816 451.64 192.614L453.867 208.686L433.71 211.468L434.026 213.736L425.665 214.891L425.156 211.217L430.339 210.501L428.067 194.086L422.884 194.801L422.375 191.128L422.371 191.125ZM431.551 195.892L433.176 207.617L450.157 205.27L448.944 196.521C447.916 196.619 446.84 196.711 445.712 196.791C444.584 196.872 443.462 196.943 442.34 197.004C441.218 197.064 440.155 197.101 439.153 197.115C438.15 197.129 437.249 197.108 436.45 197.059C435.345 197.019 434.4 196.933 433.615 196.788C432.835 196.647 432.145 196.348 431.554 195.887L431.551 195.892Z"
                            fill="white"
                          />
                          <path
                            d="M454.684 236.653L431.129 236.864L431.092 233.114L448.452 232.956L430.972 220.773L430.939 217.569L454.494 217.358L454.531 221.108L437.41 221.264L454.646 233.469L454.673 236.652L454.684 236.653Z"
                            fill="white"
                          />
                          <path
                            d="M427.827 260.828C428.112 258.842 428.778 257.149 429.836 255.751C430.894 254.353 432.266 253.304 433.95 252.607C435.637 251.906 437.562 251.595 439.723 251.669L440.372 247.117L430.633 245.729L431.18 241.888L454.502 245.213L453.954 249.055L444.215 247.667L443.571 252.198C445.696 252.737 447.471 253.584 448.893 254.742C450.315 255.9 451.333 257.3 451.939 258.943C452.549 260.588 452.716 262.401 452.43 264.388C452.099 266.706 451.292 268.623 450.002 270.154C448.714 271.68 447.079 272.764 445.102 273.397C443.123 274.034 440.949 274.183 438.572 273.841C436.14 273.495 434.057 272.732 432.335 271.552C430.613 270.371 429.341 268.872 428.539 267.047C427.732 265.219 427.499 263.149 427.824 260.832L427.827 260.828ZM431.486 261.283C431.138 263.731 431.682 265.662 433.119 267.077C434.555 268.492 436.563 269.386 439.141 269.751C441.792 270.13 443.976 269.83 445.702 268.851C447.427 267.871 448.464 266.178 448.802 263.777C449.134 261.459 448.613 259.587 447.243 258.158C445.872 256.729 443.858 255.826 441.196 255.446C438.56 255.071 436.365 255.37 434.613 256.346C432.86 257.322 431.815 258.97 431.486 261.283Z"
                            fill="white"
                          />
                        </g>
                      </g>
                      <defs>
                        <clipPath id="clip0_1_37">
                          <rect width="461" height="453" fill="white" />
                        </clipPath>
                      </defs>
                    </svg>
                  </div>
                )}
                <button
                  className="w-[260px] h-[260px] flex items-center justify-center bg-white rounded-full text-main-btn font-bold text-[60px] cursor-pointer absolute top-[calc(50%)] left-[calc(50%)] translate-[-50%]"
                  onClick={handlePlayClick}
                >
                  {isPlay ? (
                    <svg width="52" height="81" viewBox="0 0 52 81" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <rect width="13.3761" height="81" fill="#645349" />
                      <rect x="37.8989" width="13.3761" height="81" fill="#645349" />
                    </svg>
                  ) : (
                    <>
                      <span className="animate-pulsed w-[260px] h-[260px] rounded-full  block absolute top-[50%] left-[50%] border-7 border-white shadow-white translate-[-50%]"></span>
                      <span className="animate-pulsed w-[260px] h-[260px] rounded-full  block absolute top-[50%] left-[50%] border-7 border-white shadow-white translate-[-50%] anim-delay-1"></span>
                      <span className="relative z-5">
                        <svg width="64" height="78" viewBox="0 0 64 78" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M64 39L0.250004 77.1051L0.250007 0.894879L64 39Z" fill="#645349" />
                        </svg>
                      </span>
                    </>
                  )}
                </button>
              </div>
              <div>
                <audio preload="none" src={song?.songLink} ref={audioRef}></audio>
                <progress
                  value={0}
                  max={100}
                  ref={progressRef}
                  className={clsx(
                    "w-[80%] h-[33px] rounded-[30px] [&::-webkit-progress-bar]:bg-[#F3EEEA] [&::-webkit-progress-value]:bg-[#C5AC90] absolute top-[60%] left-[50%] translate-x-[-50%] opacity-0 transition-opacity duration-200 overflow-hidden",
                    { "opacity-100": isPlay },
                  )}
                ></progress>
              </div>
              <div className="absolute bottom-0 w-[100%]">
                <p className="font-medium text-[30px] mt-[67px]  text-main-text text-center 2xl:text-left">
                  А здесь можно скачать
                  <br />
                  милые открытки
                  <br />
                  для заставки на телефон
                  <br />
                  или поздравления близких.
                </p>
                <a
                  href="https://disk.yandex.ru/d/oiCwBihZqo8bog"
                  className="p-[45px] font-semibold text-[30px] text-main-text bg-white block w-full text-center mt-[44px] rounded-[80px]"
                >
                  Скачать комплимент
                </a>
              </div>
            </div>
          </div>
        </div>
        {isSpinEnd && (
          <div className="mt-[80px] mb-[80px] text-center px-14">
            <span className="font-medium text-[20px] text-main-text">
              Музыку сочинила команда SG <br />
              для вашего особенного настроения. <br />
              <br />С восхищением к женщинам, SICHKAR GROUP (с)
            </span>
          </div>
        )}
        <div ref={containerRef}></div>
      </div>
    );

  return (
    <div className=" bg-bg flex flex-col 2xl:flex-row  min-h-screen  overflow-hidden 2xl:h-[1140px]">
      <div className="px-[24px] sm:p-0 shrink-0 z-10">
        <Logo className="sm:ml-[95px] 2xl:ml-[101px] mt-[87px]" />
        <>{isSpinEnd ? stepSpinEndText : stepText}</>
      </div>
      {!isSpinEnd && (
        <>
          <div
            className="relative 2xl:absolute right-0 top-0 overflow-hidden cursor-pointer lg:h-[1140px]"
            onClick={handleFlowerClick}
          >
            <img
              src={bigPlant}
              loading="eager"
              alt=""
              className={clsx(
                "relative lg:w-[1456px] lg:h-[1456px] w-[100%] h-[120vw] lg:max-w-[100%] max-w-[none]  top-[-100px]  drop-shadow-[80px_80px_60px_#A38D7C4D] object-cover 2xl:mt-0 mt-[100px]",
                {
                  "animate-spin-3": isSpinStart,
                },
              )}
              onAnimationEnd={handleSpinEnd}
            />
            <img
              src={catridge}
              loading="eager"
              alt=""
              className="absolute top-[15vw] lg:top-[auto] lg:bottom-[-400px] right-[-15vw]  lg:right-[175px] scale-y-[-1] rotate-[25deg] drop-shadow-[40px_40px_45px_#00000033]"
            />
            <div
              className={clsx(
                "absolute top-[60vw] lg:top-[calc(50%--180px)] 2xl:top-[calc(50%--80px)] left-[50%] 2xl:left-[calc(50%+10px)] translate-[-50%] z-10",
                {
                  "animate-spin-3": isSpinStart,
                },
              )}
            >
              {!isSpinStart && (
                <div className="relative top-[50px] sm:top-[115px] animate-spin-20">
                  <svg
                    className="w-[200px] xs:w-[300px] sm:w-[461px] absolute top-[50%] left-[50%] translate-[-50%]"
                    width="461"
                    height="453"
                    viewBox="0 0 461 453"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M36.3167 211.571C36.1375 213.919 35.6378 215.928 34.8175 217.597C33.9971 219.266 32.9882 220.605 31.7718 221.623C30.5649 222.641 29.2825 223.367 27.9247 223.811L26.3029 220.454C27.4155 220.152 28.4527 219.624 29.4145 218.86C30.3763 218.096 31.1684 217.078 31.7907 215.815C32.413 214.551 32.7996 213.005 32.941 211.204C33.0825 209.337 32.9128 207.724 32.413 206.376C31.9227 205.028 31.1684 203.981 30.1406 203.227C29.1222 202.472 27.8964 202.048 26.482 201.935C24.9168 201.812 23.6721 202.095 22.7481 202.783C21.824 203.472 21.1357 204.434 20.6831 205.669C20.2305 206.904 19.9193 208.3 19.7496 209.846C19.6082 211.006 19.5139 211.835 19.4667 212.335C19.4101 212.826 19.3818 213.156 19.3724 213.316C19.363 213.476 19.3441 213.627 19.3347 213.768L15.9308 213.504C15.9308 213.391 15.9591 213.099 15.9968 212.618C16.0345 212.137 16.0722 211.628 16.1005 211.081C16.1288 210.534 16.1571 210.101 16.1665 209.78C16.2325 207.489 15.7705 205.64 14.7804 204.245C13.7903 202.849 12.376 202.086 10.5184 201.944C8.55713 201.793 6.97302 202.369 5.78494 203.67C4.59686 204.971 3.91796 206.715 3.74823 208.903C3.58794 210.968 3.94625 212.741 4.82316 214.23C5.70008 215.72 6.92588 216.974 8.50055 217.993L6.14325 220.708C4.27627 219.473 2.79588 217.814 1.7021 215.739C0.60831 213.665 0.165137 211.26 0.36315 208.545C0.476301 207.093 0.778035 205.716 1.27778 204.405C1.77753 203.104 2.45643 201.963 3.32392 200.992C4.18198 200.021 5.23805 199.285 6.47327 198.776C7.7085 198.267 9.12288 198.078 10.7258 198.191C12.5928 198.333 14.1958 198.87 15.5253 199.794C16.8548 200.718 17.8166 201.859 18.4201 203.208C19.0801 201.492 20.1173 200.181 21.5128 199.285C22.9178 198.389 24.6905 198.022 26.8309 198.182C28.9431 198.342 30.7346 199.002 32.2244 200.162C33.7142 201.322 34.808 202.878 35.5246 204.839C36.2318 206.8 36.4958 209.044 36.3073 211.562L36.3167 211.571Z"
                      fill="white"
                    />
                    <path
                      d="M39.5318 187.988C39.1263 189.902 38.438 191.43 37.4762 192.58C36.5144 193.73 35.3923 194.504 34.11 194.9C32.8276 195.296 31.5169 195.352 30.1686 195.069C28.7919 194.777 27.6698 194.249 26.8023 193.485C25.9443 192.722 25.2937 191.788 24.8788 190.694C24.4545 189.601 24.2187 188.375 24.1527 187.036C24.115 185.687 24.1339 184.198 24.2282 182.595C24.313 180.982 24.4262 179.408 24.5676 177.871C24.7091 176.334 24.8034 174.985 24.8788 173.816L25.3691 175.202C22.8704 174.618 20.9091 174.712 19.4853 175.476C18.0615 176.239 17.0808 177.88 16.5434 180.407C16.1756 182.151 16.2511 183.698 16.7791 185.065C17.3071 186.432 18.3632 187.536 19.9567 188.384L18.2595 191.533C16.1096 190.468 14.5915 188.931 13.7146 186.904C12.8377 184.886 12.6868 182.463 13.2903 179.662C13.7806 177.343 14.6387 175.457 15.855 174.023C17.0714 172.581 18.5707 171.704 20.3622 171.383C21.1637 171.223 22.0312 171.195 22.9647 171.298C23.8982 171.402 24.8316 171.544 25.7651 171.751L41.5496 175.098L40.899 178.182L34.5249 176.833L35.0906 176.022C37.0896 177.352 38.4663 179.04 39.2206 181.105C39.9749 183.17 40.0881 185.471 39.5506 188.007L39.5318 187.988ZM36.6276 186.96C36.967 185.348 36.9765 183.877 36.6559 182.538C36.3353 181.209 35.7412 180.068 34.8832 179.115C34.0251 178.163 32.9879 177.446 31.7621 176.956C30.9889 176.598 30.112 176.305 29.1314 176.079C28.1507 175.853 27.4247 175.692 26.9344 175.589L27.8961 174.419C27.8018 175.626 27.6887 176.937 27.5567 178.342C27.4247 179.747 27.321 181.133 27.2361 182.5C27.1607 183.868 27.1512 185.112 27.2078 186.244C27.2549 187.007 27.3964 187.771 27.6227 188.516C27.849 189.27 28.2167 189.931 28.7448 190.487C29.2728 191.043 29.98 191.43 30.8852 191.618C31.6207 191.779 32.375 191.741 33.1388 191.524C33.912 191.307 34.6097 190.826 35.2321 190.1C35.8638 189.374 36.3258 188.328 36.6087 186.96H36.6276Z"
                      fill="white"
                    />
                    <path
                      d="M42.9357 170.129L18.4575 161.463L25.3503 141.992L49.8285 150.658L48.6498 153.986L27.3681 146.452L22.8327 159.257L44.1144 166.791L42.9357 170.119V170.129Z"
                      fill="white"
                    />
                    <path
                      d="M64.1041 147.328L54.2034 136.692L57.8431 138.446L27.8016 136.004L29.4895 132.656L54.5334 134.863L53.8357 136.24L36.882 118.032L38.5132 114.816L65.6976 144.179L64.1041 147.338V147.328Z"
                      fill="white"
                    />
                    <path
                      d="M69.4976 116.091C68.0455 118.269 66.3294 119.778 64.3493 120.636C62.3691 121.494 60.2664 121.739 58.0317 121.381C55.797 121.022 53.5623 120.108 51.3181 118.646C49.0645 117.109 47.3579 115.365 46.1698 113.422C44.9911 111.48 44.4254 109.434 44.4819 107.293C44.5291 105.153 45.274 103.003 46.7072 100.863C48.1688 98.6752 49.9697 97.1288 52.1196 96.2236C54.2695 95.3184 56.4665 95.177 58.72 95.8181L57.7205 99.3164C56.0893 98.9581 54.5523 99.0901 53.1002 99.7218C51.6576 100.344 50.4601 101.363 49.5171 102.777C48.4611 104.361 47.9425 105.917 47.9802 107.444C48.0085 108.972 48.5082 110.415 49.4606 111.791C50.4129 113.158 51.733 114.413 53.402 115.544C56.0044 117.241 58.4843 118.033 60.8322 117.901C63.18 117.779 65.1319 116.553 66.6783 114.233C67.6589 112.762 68.1587 111.291 68.1681 109.811C68.187 108.331 67.7249 106.888 66.782 105.492L69.6391 103.116C71.0251 105.2 71.704 107.35 71.6852 109.566C71.6569 111.782 70.9309 113.969 69.4976 116.11V116.091Z"
                      fill="white"
                    />
                    <path
                      d="M81.6707 98.7124L64.4153 83.9652L58.4277 90.9616L55.9384 88.8401L70.2048 72.1504L72.6941 74.272L66.7066 81.2684L83.962 96.0157L81.6613 98.703L81.6707 98.7124Z"
                      fill="white"
                    />
                    <path
                      d="M90.1856 53.4141L107.686 72.5931L105.15 74.9126L91.5152 59.9768L94.6362 84.5116L92.4298 86.52L74.9292 67.341L77.4656 65.0214L90.9871 79.8347L87.9981 55.4131L90.1856 53.4235V53.4141Z"
                      fill="white"
                    />
                    <path
                      d="M117.973 65.0024L104.857 46.4741L97.342 51.7921L95.4561 49.1237L113.372 36.4414L115.257 39.1099L107.742 44.4279L120.849 62.9563L117.964 65.0024H117.973Z"
                      fill="white"
                    />
                    <path
                      d="M141.424 51.2638C139.189 52.4519 136.992 52.9893 134.833 52.8762C132.673 52.7536 130.655 52.037 128.798 50.7263C126.931 49.4157 125.356 47.5487 124.074 45.1254C122.735 42.6172 122.028 40.2222 121.952 37.9215C121.867 35.6207 122.377 33.5463 123.47 31.6888C124.564 29.8312 126.214 28.3225 128.421 27.1439C130.684 25.9369 132.89 25.4278 135.049 25.6164C137.199 25.8049 139.208 26.6441 141.056 28.1528C142.913 29.652 144.516 31.7642 145.884 34.4892L142.697 36.1865L142.112 35.0833C140.471 32.1414 138.633 30.2461 136.605 29.3786C134.578 28.5205 132.381 28.7091 130.033 29.9632C127.572 31.2739 126.111 33.0748 125.658 35.3756C125.205 37.6763 125.762 40.2976 127.336 43.2584C128.873 46.1437 130.721 48.0296 132.881 48.9253C135.04 49.8211 137.322 49.6231 139.726 48.3407C141.367 47.4638 142.602 46.3229 143.423 44.9179C144.243 43.513 144.63 41.9006 144.573 40.0996L148.081 39.6753C148.241 42.1552 147.732 44.4088 146.553 46.4455C145.374 48.4822 143.677 50.0946 141.452 51.2732L141.424 51.2638ZM126.686 44.7105L125.29 42.0986L142.8 32.7731L144.186 35.385L126.686 44.7105Z"
                      fill="white"
                    />
                    <path
                      d="M163.969 39.9967L156.077 15.2545L175.756 8.97461L183.648 33.7168L180.282 34.7918L173.417 13.2838L160.471 17.4137L167.335 38.9217L163.969 39.9967Z"
                      fill="white"
                    />
                    <path
                      d="M186.768 32.7645L186.231 29.7095C187.212 29.7095 187.919 29.5398 188.371 29.1909C188.824 28.842 189.116 28.3328 189.239 27.6728C189.361 27.0033 189.427 26.1924 189.418 25.24C189.399 23.6465 189.324 21.9021 189.201 20.0068C189.079 18.1116 188.899 16.0183 188.664 13.7364C188.428 11.4546 188.164 8.94639 187.853 6.20249L205.231 3.11914L209.766 28.6911L206.306 29.304L202.364 7.06997L191.662 8.96524C191.851 10.6625 192.02 12.3409 192.171 14.0287C192.322 15.7165 192.464 17.3289 192.577 18.8753C192.699 20.4217 192.784 21.855 192.841 23.1656C192.897 24.4763 192.907 25.6078 192.888 26.579C192.85 28.0311 192.681 29.2192 192.36 30.1432C192.039 31.0673 191.455 31.7368 190.587 32.1705C189.72 32.6042 188.456 32.8023 186.787 32.774L186.768 32.7645Z"
                      fill="white"
                    />
                    <path
                      d="M222.864 28.4841C220.912 28.5689 219.252 28.2955 217.904 27.6449C216.556 27.0037 215.518 26.1079 214.811 24.967C214.104 23.826 213.717 22.572 213.651 21.1953C213.585 19.7903 213.821 18.5645 214.34 17.5462C214.858 16.5184 215.603 15.6604 216.556 14.9814C217.508 14.2931 218.63 13.7557 219.912 13.3596C221.214 12.9825 222.647 12.6336 224.231 12.313C225.815 11.9924 227.362 11.7095 228.889 11.4549C230.407 11.2003 231.746 10.9646 232.887 10.7289L231.671 11.5586C231.605 8.99391 231.02 7.1175 229.926 5.92942C228.832 4.74134 226.994 4.20387 224.41 4.32645C222.637 4.40189 221.148 4.87335 219.96 5.7314C218.772 6.58946 217.97 7.89069 217.546 9.64452L214.066 8.78646C214.557 6.43859 215.669 4.58104 217.404 3.22324C219.139 1.86543 221.44 1.1111 224.306 0.988516C226.673 0.884795 228.71 1.23368 230.407 2.04459C232.104 2.8555 233.34 4.09072 234.103 5.74083C234.462 6.47631 234.707 7.30608 234.839 8.23957C234.971 9.17306 235.065 10.1066 235.112 11.0683L235.838 27.1828L232.689 27.3243L232.397 20.8181L233.33 21.1576C232.548 23.4206 231.256 25.1838 229.455 26.4379C227.654 27.692 225.447 28.3709 222.854 28.4935L222.864 28.4841ZM223.137 25.4101C224.787 25.3347 226.211 24.9764 227.418 24.3258C228.625 23.6752 229.577 22.8171 230.285 21.7516C230.992 20.6861 231.426 19.498 231.595 18.1874C231.746 17.3482 231.812 16.4241 231.784 15.4246C231.756 14.4251 231.727 13.6708 231.708 13.1805L233.085 13.8122C231.888 14.0291 230.596 14.246 229.2 14.4723C227.805 14.6986 226.437 14.9437 225.099 15.2077C223.75 15.4812 222.543 15.7829 221.468 16.113C220.742 16.3581 220.044 16.6787 219.366 17.0842C218.696 17.4896 218.149 18.0177 217.744 18.6588C217.329 19.3 217.15 20.0921 217.187 21.0161C217.225 21.7705 217.442 22.4871 217.847 23.1754C218.253 23.8638 218.894 24.4201 219.752 24.8444C220.61 25.2687 221.742 25.4573 223.137 25.3913V25.4101Z"
                      fill="white"
                    />
                    <path
                      d="M251.726 28.8895C249.124 28.6726 246.965 27.9183 245.258 26.5982C243.551 25.2781 242.307 23.562 241.543 21.431C240.779 19.3 240.487 16.905 240.666 14.2271C240.921 11.5115 241.609 9.17302 242.731 7.19289C243.853 5.22219 245.371 3.73237 247.267 2.73288C249.162 1.73338 251.396 1.34679 253.971 1.55423C256.592 1.7711 258.817 2.59144 260.656 4.02468C262.495 5.45792 263.683 7.31547 264.22 9.59734L260.684 10.4177C260.203 8.81471 259.336 7.54177 258.091 6.57999C256.847 5.61821 255.376 5.07132 253.678 4.92988C251.774 4.77902 250.171 5.08075 248.851 5.85394C247.531 6.62714 246.512 7.75864 245.777 9.25788C245.041 10.7571 244.589 12.511 244.409 14.5288C244.193 17.631 244.702 20.1769 245.956 22.1665C247.21 24.156 249.228 25.2687 252.009 25.495C253.763 25.6364 255.3 25.3535 256.601 24.6463C257.903 23.9391 258.94 22.8359 259.704 21.3367L263.164 22.6756C262.014 24.9009 260.467 26.5416 258.516 27.5882C256.564 28.6443 254.301 29.0686 251.726 28.8612V28.8895Z"
                      fill="white"
                    />
                    <path
                      d="M272.829 31.1055L277.355 8.86201L268.331 7.02331L268.982 3.81738L290.49 8.20196L289.839 11.4079L280.816 9.5692L276.29 31.8127L272.829 31.1055Z"
                      fill="white"
                    />
                    <path
                      d="M316.609 16.6216L308.283 41.2224L305.02 40.1192L311.498 20.9684L291.536 35.5648L288.708 34.6125L297.034 10.0117L300.287 11.1149L293.865 30.1148L313.799 15.6881L316.599 16.631L316.609 16.6216Z"
                      fill="white"
                    />
                    <path
                      d="M313.488 43.3442L325.048 20.0918L328.216 21.6665L323.2 31.7651L336.316 38.2807L341.332 28.1821L344.5 29.7567L332.94 53.0091L329.772 51.4345L334.798 41.3169L321.682 34.8013L316.656 44.9189L313.488 43.3442Z"
                      fill="white"
                    />
                    <path
                      d="M337.768 55.9691L352.176 34.3574L355.137 36.3281L348.216 46.738L364.792 42.7494L368.715 45.3613L351.393 49.4347L355.655 67.8594L351.375 65.0118L347.688 47.5394L340.767 57.9493L337.787 55.9691H337.768Z"
                      fill="white"
                    />
                    <path
                      d="M352.025 80.1003L364.688 72.9718L362.124 76.0929L371.553 47.4658L374.41 49.8986L366.386 73.7261L365.216 72.7266L386.904 60.5253L389.647 62.8637L354.722 82.3916L352.025 80.1003Z"
                      fill="white"
                    />
                    <path
                      d="M391.599 82.4942L393.919 80.5518L406.884 96.0439L404.564 97.9863L391.599 82.4942Z"
                      fill="white"
                    />
                    <path
                      d="M402.405 118.514L424.941 105.605L426.695 108.67L416.907 114.271L424.187 126.981L433.974 121.381L435.728 124.445L413.192 137.354L411.438 134.289L421.245 128.669L413.965 115.959L404.159 121.579L402.405 118.514Z"
                      fill="white"
                    />
                    <path
                      d="M417.756 149.612C417.02 147.802 416.728 146.152 416.879 144.662C417.03 143.172 417.529 141.899 418.359 140.853C419.198 139.806 420.254 139.014 421.527 138.495C422.829 137.967 424.054 137.769 425.205 137.92C426.346 138.071 427.402 138.476 428.364 139.146C429.325 139.815 430.212 140.692 431.013 141.767C431.805 142.861 432.616 144.106 433.446 145.482C434.276 146.868 435.068 148.236 435.813 149.584C436.558 150.932 437.236 152.111 437.831 153.11L436.642 152.243C439.037 151.319 440.612 150.14 441.357 148.707C442.102 147.274 441.998 145.369 441.018 142.974C440.348 141.324 439.405 140.089 438.198 139.25C436.991 138.42 435.492 138.099 433.701 138.288L433.342 134.724C435.718 134.394 437.84 134.818 439.707 135.996C441.574 137.175 443.045 139.089 444.129 141.748C445.025 143.945 445.374 145.982 445.176 147.849C444.978 149.716 444.233 151.291 442.932 152.564C442.357 153.148 441.659 153.657 440.829 154.091C440.009 154.534 439.151 154.93 438.255 155.298L423.319 161.389L422.131 158.476L428.166 156.015V157.005C425.761 157.033 423.668 156.401 421.886 155.119C420.104 153.837 418.718 151.998 417.737 149.593L417.756 149.612ZM420.735 148.839C421.358 150.367 422.178 151.592 423.196 152.507C424.215 153.422 425.337 154.035 426.581 154.346C427.826 154.657 429.09 154.666 430.372 154.383C431.221 154.251 432.107 153.997 433.04 153.638C433.974 153.271 434.672 152.997 435.134 152.809L434.992 154.317C434.389 153.261 433.748 152.12 433.069 150.876C432.39 149.631 431.702 148.434 430.994 147.255C430.287 146.076 429.599 145.039 428.92 144.143C428.448 143.54 427.911 142.993 427.298 142.493C426.685 141.993 426.016 141.663 425.271 141.494C424.526 141.324 423.724 141.409 422.866 141.758C422.169 142.041 421.565 142.493 421.056 143.106C420.547 143.719 420.236 144.502 420.122 145.463C420.009 146.416 420.217 147.538 420.745 148.83L420.735 148.839Z"
                      fill="white"
                    />
                    <path
                      d="M424.422 163.36L439.65 170.913L449.749 157.608L450.701 161.484L440.697 174.487L453.144 171.432L453.926 174.609L441.48 177.664L456.368 184.557L457.311 188.414L442.196 181.304L432.201 195.052L431.221 191.063L441.15 177.759L428.703 180.814L427.92 177.636L440.367 174.581L425.393 167.368L424.413 163.379L424.422 163.36Z"
                      fill="white"
                    />
                    <path
                      d="M432.371 197.587L458.254 195.513L458.509 198.653L438.133 210.439L460.131 218.859L460.376 221.971L434.493 224.045L434.219 220.642L452.578 219.171L433.522 211.938L433.343 209.713L451.003 199.539L432.645 201.01L432.371 197.587Z"
                      fill="white"
                    />
                    <path
                      d="M458.914 251.909L433.003 250.25L433.22 246.817L453.398 248.109L434.135 232.608L434.323 229.628L460.235 231.287L460.018 234.72L440.009 233.437L459.103 248.948L458.914 251.9V251.909Z"
                      fill="white"
                    />
                    <path
                      d="M430.872 262.817L453.172 267.07L454.897 258.027L458.113 258.64L454.002 280.205L450.786 279.592L452.512 270.549L430.212 266.297L430.872 262.827V262.817Z"
                      fill="white"
                    />
                    <path
                      d="M423.489 288.984C424.271 286.58 425.488 284.666 427.128 283.252C428.769 281.837 430.721 280.96 432.975 280.621C435.228 280.281 437.661 280.526 440.263 281.385C442.96 282.261 445.138 283.506 446.788 285.109C448.438 286.712 449.513 288.56 450.013 290.653C450.513 292.747 450.371 294.981 449.598 297.358C448.806 299.8 447.562 301.695 445.883 303.053C444.205 304.411 442.168 305.193 439.792 305.391C437.416 305.589 434.794 305.184 431.919 304.165L433.041 300.733L434.229 301.12C437.453 302.1 440.084 302.204 442.149 301.412C444.214 300.63 445.657 298.97 446.477 296.434C447.345 293.784 447.147 291.474 445.883 289.503C444.62 287.532 442.394 286.024 439.217 284.986C436.105 283.968 433.465 283.893 431.296 284.741C429.118 285.59 427.609 287.316 426.77 289.899C426.195 291.672 426.101 293.341 426.487 294.925C426.874 296.509 427.713 297.933 429.005 299.196L426.77 301.931C424.941 300.252 423.743 298.272 423.178 295.99C422.612 293.709 422.725 291.37 423.508 288.975L423.489 288.984ZM438.66 283.487L441.47 284.402L435.313 303.26L432.503 302.346L438.66 283.487Z"
                      fill="white"
                    />
                    <path
                      d="M415.097 312.708L437.906 325.126L436.218 328.228L426.318 322.835L419.312 335.696L429.213 341.09L427.525 344.192L404.715 331.774L406.403 328.672L416.332 334.075L423.338 321.213L413.409 315.81L415.097 312.708Z"
                      fill="white"
                    />
                    <path
                      d="M396.663 342.1C397.813 340.525 399.067 339.403 400.416 338.753C401.764 338.102 403.103 337.857 404.442 338.017C405.781 338.178 406.997 338.668 408.11 339.479C409.251 340.309 410.052 341.251 410.524 342.308C410.995 343.354 411.203 344.467 411.137 345.645C411.071 346.824 410.797 348.031 410.297 349.276C409.779 350.53 409.157 351.869 408.412 353.302C407.667 354.735 406.922 356.121 406.167 357.47C405.413 358.818 404.763 360.006 404.225 361.043L404.338 359.582C406.384 361.138 408.204 361.854 409.817 361.741C411.429 361.628 412.994 360.534 414.522 358.45C415.568 357.017 416.134 355.565 416.21 354.103C416.285 352.642 415.776 351.199 414.673 349.775L417.52 347.597C419.048 349.445 419.802 351.473 419.774 353.679C419.746 355.886 418.887 358.149 417.2 360.459C415.804 362.373 414.248 363.74 412.551 364.551C410.854 365.362 409.119 365.551 407.356 365.117C406.554 364.928 405.753 364.608 404.951 364.136C404.14 363.665 403.348 363.146 402.575 362.58L389.553 353.057L391.411 350.511L396.672 354.358L395.824 354.867C394.541 352.84 393.985 350.728 394.136 348.54C394.287 346.353 395.135 344.203 396.663 342.11V342.1ZM398.888 344.231C397.917 345.561 397.304 346.9 397.049 348.248C396.795 349.596 396.87 350.879 397.257 352.095C397.643 353.311 398.304 354.396 399.218 355.348C399.774 355.999 400.453 356.621 401.255 357.225C402.056 357.828 402.65 358.281 403.056 358.573L401.698 359.252C402.283 358.186 402.914 357.036 403.612 355.81C404.31 354.584 404.979 353.359 405.611 352.142C406.243 350.926 406.762 349.794 407.176 348.738C407.44 348.022 407.629 347.267 407.733 346.494C407.836 345.712 407.761 344.967 407.516 344.241C407.271 343.514 406.771 342.883 406.026 342.326C405.413 341.883 404.715 341.6 403.923 341.487C403.131 341.374 402.301 341.525 401.425 341.93C400.548 342.336 399.708 343.1 398.879 344.231H398.888Z"
                      fill="white"
                    />
                    <path
                      d="M360.813 376.007L363.906 379.269L380.115 363.909L397.973 382.758L395.409 385.191L379.879 368.803L370.016 378.147L385.546 394.535L382.981 396.968L367.366 380.495L363.576 384.088L358.229 378.449L360.794 376.016L360.813 376.007Z"
                      fill="white"
                    />
                    <path
                      d="M359.021 383.211L374.231 404.257L365.556 410.527C365.113 410.848 364.556 411.206 363.896 411.612C363.236 412.017 362.567 412.347 361.926 412.592C360.521 413.139 359.106 413.186 357.692 412.743C356.278 412.3 355.08 411.404 354.099 410.056C353.552 409.302 353.185 408.547 352.987 407.793C352.789 407.039 352.742 406.294 352.845 405.568C352.883 405.209 352.958 404.86 353.072 404.53C353.185 404.2 353.317 403.899 353.468 403.635C352.996 403.861 352.412 404.002 351.733 404.059C350.658 404.163 349.658 403.983 348.725 403.512C347.791 403.05 346.943 402.286 346.179 401.221C345.132 399.778 344.632 398.354 344.661 396.949C344.689 395.544 345.16 394.253 346.075 393.074C346.49 392.555 346.99 392.056 347.565 391.584C348.14 391.113 348.696 390.679 349.224 390.292L359.031 383.211H359.021ZM357.899 387.737L351.12 392.64C350.846 392.838 350.516 393.112 350.139 393.451C349.753 393.8 349.432 394.13 349.158 394.441C348.536 395.186 348.253 395.987 348.329 396.836C348.395 397.685 348.687 398.458 349.196 399.165C349.866 400.089 350.677 400.646 351.648 400.853C352.619 401.051 353.59 400.9 354.58 400.382C354.929 400.231 355.269 400.042 355.599 399.825C355.929 399.599 356.23 399.401 356.494 399.212L362.869 394.611L357.909 387.746L357.899 387.737ZM364.632 397.053L358.748 401.306C358.409 401.551 358.05 401.843 357.654 402.201C357.258 402.56 356.956 402.899 356.73 403.239C356.221 403.965 356.023 404.719 356.117 405.52C356.212 406.322 356.504 407.057 356.994 407.736C357.532 408.481 358.173 409 358.918 409.311C359.663 409.622 360.464 409.641 361.313 409.358C361.907 409.188 362.473 408.924 363.038 408.557C363.595 408.189 363.943 407.963 364.085 407.859L369.582 403.889L364.641 397.053H364.632Z"
                      fill="white"
                    />
                    <path
                      d="M328.81 402.059C331.036 400.852 333.233 400.305 335.392 400.409C337.551 400.513 339.569 401.22 341.445 402.521C343.322 403.822 344.906 405.68 346.207 408.094C347.556 410.592 348.282 412.987 348.376 415.288C348.47 417.589 347.98 419.663 346.905 421.53C345.83 423.388 344.189 424.915 341.983 426.103C339.729 427.32 337.523 427.848 335.373 427.678C333.223 427.508 331.215 426.669 329.348 425.189C327.481 423.699 325.859 421.596 324.482 418.881L327.65 417.165L328.244 418.268C329.904 421.2 331.752 423.086 333.789 423.935C335.826 424.783 338.013 424.576 340.352 423.303C342.803 421.973 344.255 420.163 344.689 417.862C345.132 415.562 344.557 412.94 342.954 409.998C341.398 407.122 339.541 405.246 337.372 404.369C335.213 403.492 332.931 403.7 330.536 405.001C328.905 405.887 327.679 407.038 326.868 408.452C326.057 409.866 325.689 411.479 325.755 413.28L322.248 413.732C322.078 411.252 322.568 408.999 323.728 406.953C324.888 404.907 326.576 403.294 328.791 402.087L328.81 402.059ZM343.595 408.518L345 411.12L327.556 420.569L326.151 417.966L343.595 408.518Z"
                      fill="white"
                    />
                    <path
                      d="M308.5 412.354L316.731 433.504L325.312 430.166L326.5 433.212L306.039 441.17L304.851 438.125L313.431 434.787L305.2 413.637L308.49 412.354H308.5Z"
                      fill="white"
                    />
                    <path
                      d="M283.003 419.833C285.512 419.201 287.784 419.239 289.84 419.927C291.895 420.616 293.649 421.851 295.101 423.614C296.553 425.387 297.6 427.565 298.25 430.158C298.91 432.798 299.014 435.24 298.543 437.466C298.081 439.7 297.091 441.596 295.591 443.151C294.092 444.707 292.112 445.792 289.651 446.414C287.133 447.046 284.842 447.017 282.777 446.338C280.712 445.659 278.968 444.434 277.525 442.67C276.082 440.907 275.036 438.729 274.385 436.127C273.725 433.486 273.612 431.044 274.064 428.81C274.517 426.575 275.488 424.67 276.997 423.105C278.506 421.54 280.505 420.446 282.994 419.814L283.003 419.833ZM283.833 423.124C281.033 423.821 279.185 425.274 278.279 427.48C277.374 429.677 277.299 432.27 278.044 435.24C278.807 438.286 280.099 440.539 281.928 442.001C283.758 443.462 286.058 443.84 288.84 443.142C290.726 442.67 292.169 441.86 293.177 440.709C294.186 439.559 294.799 438.154 295.026 436.504C295.252 434.854 295.11 433.043 294.62 431.091C293.856 428.065 292.555 425.802 290.698 424.331C288.84 422.85 286.549 422.454 283.833 423.143V423.124Z"
                      fill="white"
                    />
                    <path
                      d="M267.03 424.057L270.095 449.846L266.559 450.27L265.069 437.852L255.046 451.647L250.369 452.203L260.901 437.862L245.701 426.603L250.812 425.99L264.956 436.89L263.466 424.472L267.021 424.048L267.03 424.057Z"
                      fill="white"
                    />
                  </svg>
                </div>
              )}
              <button className="w-[100px] h-[100px] sm:w-[200px] sm:h-[200px] lg:w-[260px] lg:h-[260px] flex items-center justify-center bg-white rounded-full text-main-btn font-bold text-[35px] sm:text-[60px] cursor-pointer">
                {isSpinStart ? (
                  <svg
                    className="rotate-[-45deg]"
                    width="106"
                    height="106"
                    viewBox="0 0 106 106"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M99.3596 68.6475L92.5252 69.8175L91.6324 66.0082C90.432 61.7331 88.1414 57.8303 84.9873 54.684C83.0389 52.7476 80.7156 51.2303 78.1647 50.2284C75.6137 49.2264 72.89 48.7607 70.1652 48.8608C67.3719 48.8207 64.6075 49.3452 62.038 50.4032C59.4678 51.4619 57.1458 53.0319 55.2117 55.0186C53.1188 57.1819 51.5133 59.769 50.5014 62.6113C47.3074 71.3133 49.0577 78.991 55.7521 85.6443C56.886 86.7944 58.0993 87.8634 59.3829 88.8432C60.5362 89.6691 61.7894 90.3449 63.1097 90.855L64.9509 91.4202L67.6565 92.0966L77.3114 82.3819L65.1804 70.3255L70.7033 66.5861L87.2691 83.0502L70.3463 100.078L65.5476 98.8711L61.6102 97.3812C57.5278 95.6737 53.7918 93.2174 50.5979 90.1413C47.8647 87.496 45.684 84.3353 44.1855 80.8477C42.6871 77.3602 41.9006 73.6165 41.8742 69.8391C41.7013 66.1175 42.3076 62.4109 43.6557 58.9583C45.0025 55.5057 47.0615 52.3825 49.6983 49.7896C52.2911 47.1246 55.4164 45.0339 58.8754 43.6484C62.3351 42.2634 66.0541 41.6154 69.7973 41.7433C73.6125 41.7438 77.4 42.5175 80.9294 44.0166C84.4587 45.5156 87.6577 47.7106 90.3344 50.4677C90.9522 51.0817 91.5792 51.7049 92.0977 52.3274C92.6169 52.9506 93.3544 53.7895 94.0921 54.7733C95.0248 56.067 95.8196 57.455 96.464 58.9119C97.2077 60.231 97.7927 61.6314 98.2065 63.0838C98.4439 63.755 98.6365 64.4412 98.7844 65.1372C98.9369 65.9475 99.1186 67.0724 99.3596 68.6475Z"
                      fill="#C5AC90"
                    />
                    <path
                      d="M5.92535 34.1292L13.0445 34.3635C12.4763 39.9513 13.9677 44.5092 17.5179 48.0376C19.4689 50.1806 22.1382 51.5315 25.0052 51.8271C26.3093 51.9206 27.6149 51.7211 28.824 51.2434C30.0336 50.7651 31.1169 50.0216 31.9942 49.0657C33.2691 47.7816 34.0124 46.0621 34.0779 44.2426C34.156 43.1872 33.9695 42.1261 33.534 41.1546L30.3793 34.3147L29.2044 31.9714C28.3836 30.3716 27.6813 28.7152 27.103 27.0152C26.6005 25.6064 26.2283 24.1567 25.9886 22.6835C25.825 21.0122 26.1097 19.333 26.8127 17.8202C27.5707 15.9526 28.6943 14.2597 30.1185 12.8398C31.6147 11.2847 33.4411 10.085 35.466 9.3266C37.4914 8.56752 39.6652 8.2685 41.8329 8.45037C44.1082 8.59324 46.3407 9.17278 48.4087 10.1585C50.6195 11.2267 52.6312 12.6719 54.3536 14.4276C56.2544 16.2315 57.8024 18.3745 58.9152 20.7425C60.1499 23.8245 60.9833 27.0489 61.3959 30.3332L54.3393 30.8728C54.0611 28.6355 53.5018 26.4391 52.6727 24.335C51.9464 22.4557 50.8351 20.7441 49.4103 19.3113C47.509 17.3196 44.9708 16.0604 42.2494 15.757C41.0435 15.5868 39.8186 15.7012 38.6728 16.0905C37.5269 16.4798 36.4918 17.1329 35.6503 17.9979C34.6865 18.9389 34.0344 20.1534 33.778 21.4811C33.4823 22.4259 33.5016 23.4461 33.8342 24.3864C34.0855 25.419 34.3932 26.4392 34.7555 27.4399L36.5509 31.5585L37.5728 33.8387L39.901 39.0203C40.4887 40.2257 40.9397 41.4915 41.2433 42.7944C42.397 47.1833 41.2371 51.1188 37.7629 54.6026C36.2522 56.2208 34.4008 57.4835 32.3386 58.303C30.2765 59.1225 28.0537 59.4774 25.8271 59.343C21.2663 59.0858 16.9806 56.9643 12.9701 52.9784C10.6226 50.7048 8.79718 47.9489 7.62573 44.9065C6.44577 41.4306 5.86976 37.7851 5.92536 34.1318L5.92535 34.1292Z"
                      fill="#C5AC90"
                    />
                  </svg>
                ) : (
                  <>
                    <span className="animate-pulsed w-[100px] h-[100px] sm:w-[200px] sm:h-[200px] lg:w-[260px] lg:h-[260px] rounded-full  block absolute top-[50%] left-[50%] border-7 border-white shadow-white translate-[-50%]"></span>
                    <span className="animate-pulsed w-[100px] h-[100px] sm:w-[200px] sm:h-[200px] lg:w-[260px] lg:h-[260px] rounded-full  block absolute top-[50%] left-[50%] border-7 border-white shadow-white translate-[-50%] anim-delay-1"></span>
                    <span className="relative z-5">жми</span>
                  </>
                )}
              </button>
            </div>
          </div>
        </>
      )}
      {isSpinEnd && (
        <div className="mt-[80px] ml-[100px] 2xl:block flex flex-col items-center justify-center">
          <span className="font-medium text-[20px] text-main-text z-10">
            Музыку сочинила команда SG <br />
            для вашего особенного настроения. <br />
            <br />С восхищением к женщинам, SICHKAR GROUP (с)
          </span>
          <div className="w-[858px] h-[726px] bg-[#E0D0C080] rounded-[80px] mt-[80px] relative ">
            <img
              src={song?.songImage}
              alt=""
              className="absolute top-[-340px] left-[-320px] drop-shadow-[80px_80px_60px_#A38D7C4D] w-[1457px] h-[1457px] max-w-[1457px]"
            />
            <div className="absolute top-[calc(50%)] left-[calc(50%)] translate-[-50%] z-10">
              {!isPlay && (
                <div className="relative  animate-spin-20">
                  <svg xmlns="http://www.w3.org/2000/svg" width="461" height="453" viewBox="0 0 461 453" fill="none">
                    <g clipPath="url(#clip0_1_37)">
                      <mask
                        id="mask0_1_37"
                        style={{ maskType: "luminance" }}
                        maskUnits="userSpaceOnUse"
                        x="155"
                        y="-25"
                        width="369"
                        height="304"
                      >
                        <path
                          d="M523.984 141.715L233.852 -25L155 112.225L445.132 278.939L523.984 141.715Z"
                          fill="white"
                        />
                      </mask>
                      <g mask="url(#mask0_1_37)">
                        <path
                          d="M227.618 34.8811C224.495 35.0228 221.812 34.4582 219.571 33.1759C217.327 31.898 215.58 30.0563 214.324 27.6525C213.073 25.2512 212.37 22.4373 212.22 19.2177C212.071 15.9936 212.508 13.1292 213.534 10.6201C214.559 8.11101 216.132 6.11872 218.248 4.64082C220.363 3.16292 222.982 2.34961 226.105 2.20791C229.736 2.03961 232.765 2.82652 235.198 4.56002C237.629 6.29782 239.363 8.70472 240.391 11.7868L236.496 13.0108C235.746 10.7016 234.52 8.91031 232.806 7.63631C231.092 6.36231 228.92 5.78462 226.276 5.90702C223.936 6.01352 222.018 6.63392 220.511 7.76782C219.006 8.89732 217.904 10.4319 217.21 12.3743C216.512 14.3141 216.215 16.531 216.318 19.0294C216.421 21.5277 216.904 23.7069 217.778 25.5675C218.647 27.4257 219.897 28.8545 221.513 29.8467C223.133 30.8413 225.108 31.2885 227.45 31.1777C230.094 31.0553 232.205 30.2799 233.793 28.8453C235.381 27.4108 236.438 25.521 236.969 23.1673L240.96 24.0326C240.218 27.1959 238.72 29.7516 236.458 31.706C234.198 33.6561 231.253 34.7153 227.623 34.8836L227.618 34.8811Z"
                          fill="white"
                        />
                        <path
                          d="M243.002 33.7841L243.319 30.4636C244.175 30.7065 244.84 30.7362 245.313 30.5571C245.793 30.3762 246.169 30.0141 246.445 29.4621C246.726 28.9126 246.98 28.2089 247.205 27.3552C247.582 26.0052 247.943 24.4903 248.287 22.815C248.631 21.1398 248.971 19.3003 249.318 17.2974C249.66 15.292 250.011 13.1411 250.362 10.8398L266.753 12.4082L264.513 35.8502L260.649 35.4795L262.537 15.7085L253.527 14.8432C253.313 16.1825 253.074 17.5428 252.817 18.9268C252.56 20.3107 252.304 21.661 252.049 22.971C251.794 24.2809 251.532 25.5007 251.277 26.6197C251.014 27.7406 250.761 28.7049 250.51 29.5143C250.097 30.9072 249.607 32.0014 249.037 32.8013C248.463 33.5987 247.703 34.0867 246.75 34.2558C245.801 34.4274 244.55 34.2693 243.006 33.7866L243.002 33.7841Z"
                          fill="white"
                        />
                        <path
                          d="M270.584 47.6395L277.703 36.5279L276.977 40.1165L272.372 13.198L276.355 14.0763L279.854 35.683L278.491 35.3792L290.262 17.1485L294.116 17.9991L274.266 48.4487L270.58 47.637L270.584 47.6395Z"
                          fill="white"
                        />
                        <path
                          d="M291.547 41.5522L299.819 19.5074L303.33 20.8253L296.298 39.5651L303.895 42.4162L310.927 23.6764L314.438 24.9943L307.406 43.7341L314.983 46.5796L322.016 27.8398L325.526 29.1577L317.254 51.2025L291.547 41.5522Z"
                          fill="white"
                        />
                        <path
                          d="M327.288 57.4124C325.744 56.566 324.609 55.5726 323.879 54.4367C323.15 53.3007 322.776 52.1203 322.758 50.9023C322.741 49.6843 323.035 48.5181 323.643 47.4105C324.235 46.329 324.952 45.504 325.798 44.9379C326.64 44.3694 327.587 44.0293 328.638 43.9108C329.689 43.7923 330.822 43.8649 332.037 44.1354C333.164 44.4075 334.387 44.775 335.71 45.2404C337.031 45.7102 338.361 46.2029 339.701 46.7187C341.039 47.2389 342.3 47.7209 343.483 48.1691L341.873 48.2035C342.9 46.3951 343.269 44.838 342.989 43.5329C342.71 42.2277 341.625 41.0555 339.738 40.0228C338.488 39.3394 337.239 39.0265 335.985 39.0861C334.735 39.1481 333.573 39.7003 332.495 40.7513L329.799 38.0055C331.289 36.4688 333.03 35.5731 335.027 35.3277C337.02 35.0799 339.183 35.5941 341.519 36.8728C343.391 37.9023 344.821 39.1172 345.797 40.5279C346.776 41.9343 347.186 43.476 347.035 45.1468C346.98 45.9475 346.786 46.7378 346.451 47.5222C346.116 48.3065 345.728 49.1125 345.284 49.9265L338.282 62.6953L335.26 61.0398L337.976 56.0917L338.433 56.9379C336.734 58.193 334.946 58.8592 333.079 58.9371C331.213 59.0149 329.284 58.5075 327.296 57.4174L327.288 57.4124ZM329.367 54.8501C330.588 55.5229 331.773 55.886 332.911 55.9387C334.049 55.9914 335.091 55.8094 336.038 55.3885C336.979 54.9694 337.77 54.3777 338.404 53.6153C338.934 53.0757 339.423 52.4261 339.874 51.6619C340.325 50.8977 340.669 50.298 340.905 49.8672L341.808 51.0334C340.609 50.5932 339.434 50.1431 338.276 49.6918C337.123 49.2431 336.028 48.8336 334.992 48.4635C333.96 48.0958 333.001 47.8111 332.117 47.6092C331.457 47.4788 330.807 47.423 330.154 47.4412C329.509 47.4575 328.91 47.6046 328.371 47.8786C327.831 48.1526 327.383 48.6115 327.034 49.2491C326.723 49.8103 326.577 50.4261 326.584 51.0889C326.592 51.7585 326.81 52.4156 327.24 53.067C327.669 53.7185 328.376 54.3097 329.36 54.852L329.367 54.8501Z"
                          fill="white"
                        />
                        <path
                          d="M347.405 68.9205L358.974 52.5911L352.283 47.8504L354.327 44.9672L370.879 56.6919L368.835 59.5751L362.144 54.8345L350.575 71.1638L347.405 68.9205Z"
                          fill="white"
                        />
                        <path
                          d="M359.811 78.026L375.514 60.482L378.422 63.0896L372.728 69.4363L376.509 72.829C377.018 73.2829 377.529 73.7617 378.042 74.2586C378.554 74.7554 378.97 75.22 379.294 75.643C380.05 76.632 380.57 77.648 380.867 78.691C381.164 79.735 381.165 80.799 380.881 81.878C380.596 82.958 379.965 84.046 378.983 85.141C377.626 86.656 376.158 87.5 374.58 87.68C373.002 87.86 371.454 87.525 369.926 86.682C369.406 86.389 368.855 86.009 368.272 85.535C367.688 85.061 367.149 84.601 366.651 84.159L359.816 78.028L359.811 78.026ZM364.839 78.233L368.837 81.813C369.162 82.104 369.536 82.418 369.955 82.756C370.373 83.095 370.782 83.359 371.173 83.555C371.86 83.88 372.641 83.999 373.513 83.922C374.384 83.845 375.216 83.363 376.011 82.473C376.806 81.583 377.207 80.704 377.217 79.82C377.225 78.94 376.959 78.116 376.412 77.357C376.165 77.001 375.877 76.657 375.553 76.326C375.224 75.992 374.907 75.688 374.591 75.403L370.593 71.8225L364.844 78.236L364.839 78.233Z"
                          fill="white"
                        />
                        <path
                          d="M382.427 99.507L401.019 85.057L403.068 87.691L394.136 105.963L414.053 101.806L416.102 104.44L397.51 118.891L395.208 115.932L407.413 106.448L390.6 110.012L389.344 108.394L396.943 92.986L384.738 102.47L382.432 99.509L382.427 99.507Z"
                          fill="white"
                        />
                        <path
                          d="M404.712 132.394C403.561 130.391 403.003 128.383 403.031 126.382C403.062 124.376 403.635 122.503 404.756 120.754C405.874 119.009 407.499 117.521 409.629 116.299C411.861 115.021 414.028 114.319 416.131 114.203C418.233 114.087 420.154 114.509 421.884 115.463C423.616 116.424 425.052 117.89 426.186 119.872C427.366 121.925 427.898 123.948 427.781 125.933C427.664 127.917 426.937 129.777 425.602 131.507C424.267 133.237 422.358 134.747 419.878 136.033L417.925 132.628L419.133 131.935C421.62 130.456 423.203 128.868 423.88 127.176C424.56 125.48 424.339 123.66 423.223 121.718C422.029 119.639 420.452 118.438 418.494 118.122C416.536 117.806 414.307 118.363 411.808 119.794C409.401 121.174 407.843 122.788 407.142 124.633C406.44 126.479 406.666 128.401 407.814 130.407C408.59 131.755 409.572 132.753 410.759 133.394C411.946 134.036 413.287 134.309 414.773 134.209L415.512 138.085C413.253 138.324 411.171 137.931 409.263 136.904C407.354 135.877 405.835 134.374 404.701 132.393L404.712 132.394ZM410.217 119.21L412.924 117.661L421.588 132.755L418.882 134.305L410.217 119.21Z"
                          fill="white"
                        />
                        <path
                          d="M411.419 142.884L414.499 141.601C414.689 142.468 414.973 143.07 415.358 143.407C415.743 143.744 416.241 143.903 416.859 143.894C417.475 143.878 418.216 143.778 419.079 143.574C420.451 143.27 421.953 142.879 423.592 142.393C425.23 141.906 427.017 141.343 428.949 140.708C430.881 140.073 432.944 139.362 435.145 138.592L441.476 153.791L419.734 162.835L418.24 159.254L436.579 151.624L433.098 143.271C431.817 143.709 430.505 144.14 429.162 144.565C427.819 144.989 426.509 145.398 425.233 145.787C423.955 146.179 422.758 146.521 421.645 146.817C420.532 147.114 419.562 147.343 418.726 147.499C417.303 147.791 416.106 147.872 415.132 147.745C414.153 147.617 413.368 147.171 412.77 146.411C412.171 145.651 411.718 144.477 411.417 142.888L411.419 142.884Z"
                          fill="white"
                        />
                        <path
                          d="M423.457 177.57C422.84 175.313 422.819 173.226 423.392 171.312C423.965 169.399 425.037 167.755 426.597 166.379C428.156 165.004 430.115 163.99 432.468 163.348C434.837 162.698 437.045 162.579 439.092 162.981C441.14 163.383 442.89 164.273 444.342 165.64C445.795 167.006 446.826 168.795 447.433 171.011C448.054 173.281 448.081 175.378 447.503 177.3C446.931 179.22 445.866 180.862 444.309 182.234C442.755 183.6 440.808 184.603 438.466 185.246C436.097 185.896 433.889 186.026 431.847 185.634C429.803 185.245 428.046 184.368 426.58 183.005C425.113 181.643 424.07 179.835 423.452 177.578L423.457 177.57ZM427.01 176.6C427.654 178.941 428.918 180.476 430.803 181.201C432.693 181.928 434.883 181.95 437.38 181.269C439.934 180.569 441.814 179.43 443.024 177.848C444.234 176.265 444.517 174.313 443.884 171.983C443.448 170.397 442.733 169.195 441.741 168.365C440.747 167.539 439.547 167.04 438.146 166.883C436.744 166.725 435.216 166.869 433.561 167.323C431.007 168.023 429.122 169.171 427.902 170.771C426.682 172.371 426.388 174.311 427.01 176.6Z"
                          fill="white"
                        />
                        <path
                          d="M422.371 191.125L430.732 189.97C430.913 191.265 431.469 192.139 432.407 192.591C433.34 193.041 434.821 193.302 436.842 193.377C438.111 193.424 439.458 193.423 440.894 193.381C442.325 193.336 443.918 193.252 445.666 193.117C447.419 192.986 449.407 192.816 451.64 192.614L453.867 208.686L433.71 211.468L434.026 213.736L425.665 214.891L425.156 211.217L430.339 210.501L428.067 194.086L422.884 194.801L422.375 191.128L422.371 191.125ZM431.551 195.892L433.176 207.617L450.157 205.27L448.944 196.521C447.916 196.619 446.84 196.711 445.712 196.791C444.584 196.872 443.462 196.943 442.34 197.004C441.218 197.064 440.155 197.101 439.153 197.115C438.15 197.129 437.249 197.108 436.45 197.059C435.345 197.019 434.4 196.933 433.615 196.788C432.835 196.647 432.145 196.348 431.554 195.887L431.551 195.892Z"
                          fill="white"
                        />
                        <path
                          d="M454.684 236.653L431.129 236.864L431.092 233.114L448.452 232.956L430.972 220.773L430.939 217.569L454.494 217.358L454.531 221.108L437.41 221.264L454.646 233.469L454.673 236.652L454.684 236.653Z"
                          fill="white"
                        />
                        <path
                          d="M427.827 260.828C428.112 258.842 428.778 257.149 429.836 255.751C430.894 254.353 432.266 253.304 433.95 252.607C435.637 251.906 437.562 251.595 439.723 251.669L440.372 247.117L430.633 245.729L431.18 241.888L454.502 245.213L453.954 249.055L444.215 247.667L443.571 252.198C445.696 252.737 447.471 253.584 448.893 254.742C450.315 255.9 451.333 257.3 451.939 258.943C452.549 260.588 452.716 262.401 452.43 264.388C452.099 266.706 451.292 268.623 450.002 270.154C448.714 271.68 447.079 272.764 445.102 273.397C443.123 274.034 440.949 274.183 438.572 273.841C436.14 273.495 434.057 272.732 432.335 271.552C430.613 270.371 429.341 268.872 428.539 267.047C427.732 265.219 427.499 263.149 427.824 260.832L427.827 260.828ZM431.486 261.283C431.138 263.731 431.682 265.662 433.119 267.077C434.555 268.492 436.563 269.386 439.141 269.751C441.792 270.13 443.976 269.83 445.702 268.851C447.427 267.871 448.464 266.178 448.802 263.777C449.134 261.459 448.613 259.587 447.243 258.158C445.872 256.729 443.858 255.826 441.196 255.446C438.56 255.071 436.365 255.37 434.613 256.346C432.86 257.322 431.815 258.97 431.486 261.283Z"
                          fill="white"
                        />
                      </g>
                    </g>
                    <defs>
                      <clipPath id="clip0_1_37">
                        <rect width="461" height="453" fill="white" />
                      </clipPath>
                    </defs>
                  </svg>
                </div>
              )}
              <button
                className="w-[260px] h-[260px] flex items-center justify-center bg-white rounded-full text-main-btn font-bold text-[60px] cursor-pointer absolute top-[calc(50%)] left-[calc(50%)] translate-[-50%]"
                onClick={handlePlayClick}
              >
                {isPlay ? (
                  <svg width="52" height="81" viewBox="0 0 52 81" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect width="13.3761" height="81" fill="#645349" />
                    <rect x="37.8989" width="13.3761" height="81" fill="#645349" />
                  </svg>
                ) : (
                  <>
                    <span className="animate-pulsed w-[260px] h-[260px] rounded-full  block absolute top-[50%] left-[50%] border-7 border-white shadow-white translate-[-50%]"></span>
                    <span className="animate-pulsed w-[260px] h-[260px] rounded-full  block absolute top-[50%] left-[50%] border-7 border-white shadow-white translate-[-50%] anim-delay-1"></span>
                    <span className="relative z-5">
                      <svg width="64" height="78" viewBox="0 0 64 78" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M64 39L0.250004 77.1051L0.250007 0.894879L64 39Z" fill="#645349" />
                      </svg>
                    </span>
                  </>
                )}
              </button>
            </div>
            <div>
              <audio preload="none" src={song?.songLink} ref={audioRef}></audio>
              <progress
                value={0}
                max={100}
                ref={progressRef}
                className={clsx(
                  "w-[80%] h-[33px] rounded-[30px] [&::-webkit-progress-bar]:bg-[#F3EEEA] [&::-webkit-progress-value]:bg-[#C5AC90] absolute top-[80%] left-[50%] translate-x-[-50%] opacity-0 transition-opacity duration-200 overflow-hidden",
                  { "opacity-100": isPlay },
                )}
              ></progress>
            </div>
          </div>
        </div>
      )}
      <div ref={containerRef}></div>
    </div>
  );
}
